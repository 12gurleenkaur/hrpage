<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Portal</title>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }

        #ok {
            font-size: 2em;
            text-align: center;
            margin-bottom: 10px;
        }

        #i {
            font-size: 1.5em;
            text-align: center;
            margin-bottom: 30px;
        }

        .team {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }

        .team-member {
            background-color: #1e1e1e;
            padding: 20px;
            border-radius: 8px;
            width: 300px;
            text-align: center;
        }

        .team-member img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 10px;
        }

        .team-member h3 {
            margin-top: 0;
        }

        .salary {
            margin-top: 10px;
            font-weight: bold;
        }

        .calendar {
            margin-top: 20px;
        }

        .calendar h4 {
            text-align: center;
            margin-bottom: 10px;
        }

        .calendar table {
            width: 100%;
            border-collapse: collapse;
        }

        .calendar th, .calendar td {
            border: 1px solid #555;
            padding: 8px;
            text-align: center;
        }

        .present {
            background-color: #ADEFD1FF;
            color: white;
        }

        .absent {
            background-color: red;
            color: white;
        }

        .total-salary {
            margin-top: 10px;
            text-align: center;
            font-size: 1.2em;
            color: #ADEFD1FF;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .team {
                flex-direction: column;
                align-items: center;
            }

            .team-member {
                width: 90%;
            }
        }
        .background-image {
  background-image: url('https://t3.ftcdn.net/jpg/03/84/62/44/240_F_384624412_PfKnYaaIFGEUEi5LLTeUafK3LLzHhX5w.jpg');
  background-size: cover;
  height: 100vh;
  width: 100vw;
}
#ok {
    font-size: 50px; 
    width: 100%; 
    height: 100px; 
    background: #ADEFD1FF url('https://cdn.dribbble.com/users/3438534/screenshots/9947809/media/e6a27714db6a1db10cf94290c3ce012e.jpg?resize=450x338&vertical=center') no-repeat; 
    background-position: left top; 
    background-size: 100px 100px; 
    text-align: center; 
    color: #02203FFF;
    line-height: 30px; 
    margin: 0 auto; 
    display: inline-block; 
    padding-top: 40px;
}
#i {
            font-size: 20px;
    color: #ADEFD1FF; 
    background-color: #02203FFF; 
    text-align: center; 
    width: 100%; 
    height: 30px;
    display: block;
    margin: 0 auto; 
    padding-top: 20px;
  }
    </style>
</head>
<body>
    <div class="background-image">
    <div id="ok">PEOPLE SPHERE</div>
    <div id="i">EMPLOYEE PORTAL</div>
    <div class="team">

        <!-- Al Amin Bali -->
        <div class="team-member" data-salary="70000" data-attendance="2,4,5,6,8,10,11,12,14,16,18,20,21,23,24,25,27,29,30">
            <img src="https://images.unsplash.com/photo-1528228728175-149802236c04?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8c3RyYWlnaHQlMjBmYWNlfGVufDB8fDB8fHww" alt="Al Amin Bali">
            <h3>Al Amin Bali</h3>
            <div class="salary">Base Salary: $70,000/year</div>
            <div class="calendar">
                <h4>Attendance Calendar</h4>
                <table>
                    <tr>
                        <th>Sun</th>
                        <th>Mon</th>
                        <th>Tue</th>
                        <th>Wed</th>
                        <th>Thu</th>
                        <th>Fri</th>
                        <th>Sat</th>
                    </tr>
                </table>
            </div>
            <div class="total-salary">Total Salary: $0</div>
        </div>

        <!-- Johnathon Doe -->
        <div class="team-member" data-salary="50000" data-attendance="1,2,3,5,6,7,8,10,12,14,15,16,18,20,21,22,23,25,27,28,29,30">
            <img src="https://images.unsplash.com/photo-1620246499808-d9fe1b7858dc?w=600&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTh8fHN0cmFpZ2h0JTIwZmFjZXxlbnwwfHwwfHx8MA%3D%3D" alt="Johnathon Doe">
            <h3>Johnathon Doe</h3>
            <div class="salary">Base Salary: $60,000/year</div>
            <div class="calendar">
                <h4>Attendance Calendar</h4>
                <table>
                    <tr>
                        <th>Sun</th>
                        <th>Mon</th>
                        <th>Tue</th>
                        <th>Wed</th>
                        <th>Thu</th>
                        <th>Fri</th>
                        <th>Sat</th>
                    </tr>
                </table>
            </div>
            <div class="total-salary">Total Salary: $0</div>
        </div>

        <!-- Jack Alexander -->
        <div class="team-member" data-salary="60000" data-attendance="1,3,4,5,7,9,10,11,13,14,16,17,19,20,22,23,24,26,27,28,29,30">
            <img src="https://t4.ftcdn.net/jpg/08/83/59/41/240_F_883594172_LFm2nSwwRaQH9QBDMAze8ggwJIVrsfl9.jpg" alt="Jack Alexander">
            <h3>Jack Alexander</h3>
            <div class="salary">Base Salary: $70,000/year</div>
            <div class="calendar">
                <h4>Attendance Calendar</h4>
                <table>
                    <tr>
                        <th>Sun</th>
                        <th>Mon</th>
                        <th>Tue</th>
                        <th>Wed</th>
                        <th>Thu</th>
                        <th>Fri</th>
                        <th>Sat</th>
                    </tr>
                </table>
            </div>
            <div class="total-salary">Total Salary: $0</div>
        </div>
    </div>

    <script>
        // Function to generate calendar for a given month and year
        function generateCalendar(year, month) {
            const firstDay = new Date(year, month - 1, 1).getDay();
            const daysInMonth = new Date(year, month, 0).getDate();
            let calendarRows = '';
            let day = 1;

            // Calculate the number of weeks in the month
            const weeks = Math.ceil((firstDay + daysInMonth) / 7);

            for (let i = 0; i < weeks; i++) {
                let row = '<tr>';
                for (let j = 0; j < 7; j++) {
                    if (i === 0 && j < firstDay) {
                        row += '<td></td>';
                    } else if (day > daysInMonth) {
                        row += '<td></td>';
                    } else {
                        row += `<td>${day}</td>`;
                        day++;
                    }
                }
                row += '</tr>';
                calendarRows += row;
            }
            return calendarRows;
        }

        // Function to initialize calendars and calculate salaries
        function initialize() {
            const currentDate = new Date();
            const year = currentDate.getFullYear();
            const month = currentDate.getMonth() + 1; // Months are zero-based

            const teamMembers = document.querySelectorAll('.team-member');

            teamMembers.forEach((member) => {
                // Generate calendar
                const calendarTable = member.querySelector('.calendar table');
                calendarTable.innerHTML += generateCalendar(year, month);

                // Get attendance days
                const attendanceData = member.getAttribute('data-attendance');
                const attendanceDays = attendanceData.split(',').map(day => parseInt(day));

                // Mark attendance on the calendar
                const calendarCells = calendarTable.querySelectorAll('td');
                calendarCells.forEach((cell) => {
                    if (attendanceDays.includes(parseInt(cell.textContent))) {
                        cell.classList.add('present');
                    }
                });

                // Calculate total working days in the month (excluding weekends)
                const totalWorkingDays = getWorkingDays(year, month);
                const daysPresent = attendanceDays.length;

                // Calculate salary based on presence
                const baseSalary = parseFloat(member.getAttribute('data-salary'));
                const dailySalary = baseSalary / totalWorkingDays;
                const totalSalary = dailySalary * daysPresent;

                // Display total salary
                const totalSalaryElement = member.querySelector('.total-salary');
                totalSalaryElement.textContent = `Total Salary: $${totalSalary.toFixed(2)}`;
            });
        }

        // Function to get the total working days in a month (excluding weekends)
        function getWorkingDays(year, month) {
            const firstDay = new Date(year, month - 1, 1).getDay();
            const daysInMonth = new Date(year, month, 0).getDate();
            let workingDays = 0;

            for (let day = 1; day <= daysInMonth; day++) {
                const currentDay = new Date(year, month - 1, day).getDay();
                // Count weekdays (Monday to Friday) as working days
                if (currentDay !== 0 && currentDay !== 6) {
                    workingDays++;
                }
            }
            return workingDays;
        }

        // Initialize on page load
        window.onload = initialize;
    </script>
    </div>
</body>
</html>
